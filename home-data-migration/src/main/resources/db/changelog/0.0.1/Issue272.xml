<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="Issue272.001" author="Vladyslav-Frolov">
        <insert dbms="postgresql"
                schemaName="public"
                tableName="users">
            <column name="id" valueSequenceNext="hibernate_sequence"/>
            <column name="create_date" valueComputed="CURRENT_TIMESTAMP" type="TIMESTAMP"/>
            <column name="email" value="cooperation_admin@example.com"/>
            <column name="password" value="{bcrypt}$2a$10$dp.3Muw2krCykzwILSlhse16CdowCELLuxwyeiB1OFYjeuYbRaqbC"/>
            <column name="first_name" value="User_COOPERATION_ADMIN"/>
            <column name="last_name" value="User_COOPERATION_ADMIN"/>
            <column name="expired" value="false"/>
            <column name="locked" value="false"/>
            <column name="credentials_expired" value="false"/>
            <column name="enabled" value="true"/>
            <column name="update_date" value="null"/>
        </insert>
        <insert dbms="postgresql"
                schemaName="public"
                tableName="users">
            <column name="id" valueSequenceNext="hibernate_sequence"/>
            <column name="create_date" valueComputed="CURRENT_TIMESTAMP" type="TIMESTAMP"/>
            <column name="email" value="owner@example.com"/>
            <column name="password" value="{bcrypt}$2a$10$dp.3Muw2krCykzwILSlhse16CdowCELLuxwyeiB1OFYjeuYbRaqbC"/>
            <column name="first_name" value="User_OWNER"/>
            <column name="last_name" value="User_OWNER"/>
            <column name="expired" value="false"/>
            <column name="locked" value="false"/>
            <column name="credentials_expired" value="false"/>
            <column name="enabled" value="true"/>
            <column name="update_date" value="null"/>
        </insert>
        <insert dbms="postgresql"
                schemaName="public"
                tableName="users">
            <column name="id" valueSequenceNext="hibernate_sequence"/>
            <column name="create_date" valueComputed="CURRENT_TIMESTAMP" type="TIMESTAMP"/>
            <column name="email" value="user@example.com"/>
            <column name="password" value="{bcrypt}$2a$10$dp.3Muw2krCykzwILSlhse16CdowCELLuxwyeiB1OFYjeuYbRaqbC"/>
            <column name="first_name" value="User_USER"/>
            <column name="last_name" value="User_USER"/>
            <column name="expired" value="false"/>
            <column name="locked" value="false"/>
            <column name="credentials_expired" value="false"/>
            <column name="enabled" value="true"/>
            <column name="update_date" value="null"/>
        </insert>
    </changeSet>

    <changeSet id="Issue272.002" author="Vladyslav-Frolov">
        <sql>UPDATE roles
             SET name = 'COOPERATION_ADMIN_t'
             WHERE id = 2</sql>
        <sql>UPDATE roles
             SET name = 'OWNER_t'
             WHERE id = 3</sql>
        <sql>UPDATE roles
             SET name = 'USER_t'
             WHERE id = 4</sql>
        <sql>UPDATE roles
             SET name = 'COOPERATION_ADMIN'
             WHERE id = 2</sql>
        <sql>UPDATE roles
             SET name = 'OWNER'
             WHERE id = 3</sql>
        <sql>UPDATE roles
             SET name = 'USER'
             WHERE id = 4</sql>
    </changeSet>

    <changeSet id="Issue272.003" author="Vladyslav-Frolov">
        <sql>INSERT INTO user_cooperation (role_id, user_id)
             VALUES ('2', (SELECT ID FROM users WHERE email = 'cooperation_admin@example.com'))</sql>
        <sql>INSERT INTO user_cooperation (role_id, user_id)
             VALUES ('3', (SELECT ID FROM users WHERE email = 'owner@example.com'))</sql>
        <sql>INSERT INTO user_cooperation (role_id, user_id)
             VALUES ('4', (SELECT ID FROM users WHERE email = 'user@example.com'))</sql>
    </changeSet>


    <changeSet id="Issue272.004" author="Vladyslav-Frolov">
        <sql>TRUNCATE TABLE role_permissions, permissions</sql>
    </changeSet>

    <changeSet id="Issue272.005" author="Vladyslav-Frolov">
        <sql>INSERT INTO permissions values (1, 'READ_NEWS')</sql>
        <sql>INSERT INTO permissions values (2, 'MANAGE_NEWS')</sql>
        <sql>INSERT INTO permissions values (3, 'MANAGE_USER')</sql>
        <sql>INSERT INTO permissions values (4, 'READ_COOPERATION')</sql>
        <sql>INSERT INTO permissions values (5, 'CREATE_DELETE_COOPERATION')</sql>
        <sql>INSERT INTO permissions values (6, 'UPDATE_COOPERATION')</sql>
        <sql>INSERT INTO permissions values (7, 'READ_COOPERATION_DATA')</sql>
        <sql>INSERT INTO permissions values (8, 'MANAGE_COOPERATION_DATA')</sql>
        <sql>INSERT INTO permissions values (9, 'MANAGE_IN_COOPERATION')</sql>
        <sql>INSERT INTO permissions values (10, 'READ_APARTMENT_INFO')</sql>
        <sql>INSERT INTO permissions values (11, 'READ_POLL')</sql>
        <sql>INSERT INTO permissions values (12, 'MANAGE_POLLS')</sql>
    </changeSet>

    <changeSet id="Issue272.006" author="Vladyslav-Frolov">
        <sql>INSERT INTO role_permissions VALUES (1, 1)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 2)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 3)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 4)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 5)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 6)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 7)</sql>
        <sql>INSERT INTO role_permissions VALUES (1, 8)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 1)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 2)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 3)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 4)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 6)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 7)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 8)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 9)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 10)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 11)</sql>
        <sql>INSERT INTO role_permissions VALUES (2, 12)</sql>
        <sql>INSERT INTO role_permissions VALUES (3, 1)</sql>
        <sql>INSERT INTO role_permissions VALUES (3, 3)</sql>
        <sql>INSERT INTO role_permissions VALUES (3, 4)</sql>
        <sql>INSERT INTO role_permissions VALUES (3, 7)</sql>
        <sql>INSERT INTO role_permissions VALUES (3, 10)</sql>
        <sql>INSERT INTO role_permissions VALUES (3, 11)</sql>
    </changeSet>

</databaseChangeLog>
