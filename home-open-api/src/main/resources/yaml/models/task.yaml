TaskStatus:
  type: string
  enum:
    - PENDING
    - ERROR
    - PROCESSING
    - ACCEPTED
    - DECLINED
TaskType:
  type: string
  enum:
    - IMPORT
    - EXPORT
TaskDataScope:
  type: string
  enum:
    - ALL
    - ADDRESSES
    - APARTMENTS
    - OWNERS
CreateTask:
  type: object
  discriminator:
    propertyName: type
    mapping:
      IMPORT: '#/CreateImportTask'
      EXPORT: '#/CreateExportTask'
  required:
    - type
  properties:
    type:
      $ref: '#/TaskType'
CreateImportTask:
  allOf:
    - $ref: '#/CreateTask'
CreateExportTask:
  type : object
  allOf:
    - $ref: '#/CreateTask'
  required:
    - data_scope_type
  properties:
    type:
      $ref: '#/TaskType'
    data_scope_type:
      $ref: '#/TaskDataScope'
ReadTask:
  type: object
  properties:
    id:
      type: integer
      format: int64
      example: 1
    type:
      $ref: '#/TaskType'
    status:
      $ref: '#/TaskStatus'
ReadSummary:
  type: object
  properties:
    houses_amount:
      type: integer
      format: int64
      example: 2
    apartments:
      type: integer
      format: int64
      example: 56
    invitations:
      type: integer
      format: int64
      example: 1
ReadXlsxFile:
  type: string
  format: binary
